<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash Counter (AjarnG Edition)</title>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 15px; background: #f4f4f9; }
        h1 { color: #007bff; text-align: center; margin-bottom: 25px; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background: #e9ecef; }
        .denomination { font-weight: bold; }
        .total-row td { background: #d4edda; font-weight: bold; font-size: 1.1em; }
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏£‡∏∏‡∏õ‡πÉ‡∏´‡∏°‡πà */
        .summary-container {
            margin-top: 25px;
            padding: 15px;
            background: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
        }
        .summary-row:last-child {
            border-bottom: none;
            font-size: 1.2em;
            font-weight: bold;
        }
        .summary-label {
            font-weight: bold;
            color: #333;
        }
        .summary-value {
            text-align: right;
            font-size: 1.1em;
        }
        input[type="number"] { 
            width: 95%; 
            padding: 8px; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            text-align: right;
            font-size: 1em;
            box-sizing: border-box;
        }
        /* ‡∏ä‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ */
        #sale_input {
            width: 100%;
            border: 2px solid #ffc107; /* ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏î‡πà‡∏ô */
        }
        /* ‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏ß‡∏Å (‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô) */
        .positive-diff {
            color: green;
        }
        /* ‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏ö (‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≤‡∏î) */
        .negative-diff {
            color: red;
        }
        .currency { text-align: right; background: #fff3cd; } 
    </style>
</head>
<body>

    <h1>üíµ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏™‡πà‡∏á‡πÄ‡∏á‡∏¥‡∏ô</h1>

    <table>
        <thead>
            <tr>
                <th>‡∏ä‡∏ô‡∏¥‡∏î (‡∏ö‡∏≤‡∏ó)</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)</th>
            </tr>
        </thead>
        <tbody>
            <tr id="row_1000">
                <td class="denomination">1,000</td>
                <td><input type="number" min="0" value="0" id="qty_1000" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_1000">0.00</td>
            </tr>
            <tr id="row_500">
                <td class="denomination">500</td>
                <td><input type="number" min="0" value="0" id="qty_500" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_500">0.00</td>
            </tr>
            <tr id="row_100">
                <td class="denomination">100</td>
                <td><input type="number" min="0" value="0" id="qty_100" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_100">0.00</td>
            </tr>
            <tr id="row_50">
                <td class="denomination">50</td>
                <td><input type="number" min="0" value="0" id="qty_50" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_50">0.00</td>
            </tr>
            <tr id="row_20">
                <td class="denomination">20</td>
                <td><input type="number" min="0" value="0" id="qty_20" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_20">0.00</td>
            </tr>
            <tr id="row_10">
                <td class="denomination">10</td>
                <td><input type="number" min="0" value="0" id="qty_10" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_10">0.00</td>
            </tr>
            <tr id="row_5">
                <td class="denomination">5</td>
                <td><input type="number" min="0" value="0" id="qty_5" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_5">0.00</td>
            </tr>
            <tr id="row_2">
                <td class="denomination">2</td>
                <td><input type="number" min="0" value="0" id="qty_2" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_2">0.00</td>
            </tr>
            <tr id="row_1">
                <td class="denomination">1</td>
                <td><input type="number" min="0" value="0" id="qty_1" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric"></td>
                <td class="currency" id="total_1">0.00</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="total-row">
                <td colspan="2">‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ</td>
                <td id="grand_total">0.00</td>
            </tr>
        </tfoot>
    </table>

    <div class="summary-container">
        <div class="summary-row">
            <label class="summary-label" for="sales_input">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ï‡∏≤‡∏°‡∏ö‡∏¥‡∏•/‡∏£‡∏∞‡∏ö‡∏ö)</label>
            <input 
                type="number" 
                min="0" 
                value="0" 
                id="sales_input" 
                oninput="calculate()" 
                onfocus="clearZero(this)" 
                onblur="setZero(this)" 
                inputmode="numeric" 
                style="width: 150px;"
            >
        </div>
        <div class="summary-row">
            <span class="summary-label">‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á (‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ - ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢)</span>
            <span class="summary-value" id="difference_result">0.00</span>
        </div>
    </div>

    <script>
        const denominations = [1000, 500, 100, 50, 20, 10, 5, 2, 1];

        /** ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ '0' ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å (Focus) */
        function clearZero(inputElement) {
            // ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ï‡∏£‡∏¥‡∏á '0' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô
            if (inputElement.value === '0') {
                inputElement.value = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤
            }
        }

        /** ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤ '0' ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á (Blur) ‡∏´‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ */
        function setZero(inputElement) {
            if (inputElement.value === '') {
                inputElement.value = '0'; // ‡πÉ‡∏™‡πà 0 ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
            }
            calculate(); // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°
        }

        function formatCurrency(amount) {
            // ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° 2 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏™‡πà‡∏Ñ‡∏≠‡∏°‡∏°‡πà‡∏≤
            return amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function calculate() {
            let cashCountTotal = 0;

            // 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ
            denominations.forEach(value => {
                const qtyInput = document.getElementById(`qty_${value}`);
                // Math.max(0, ...) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ï‡∏¥‡∏î‡∏•‡∏ö
                let quantity = Math.max(0, parseInt(qtyInput.value) || 0); 

                const rowTotal = quantity * value;
                
                document.getElementById(`total_${value}`).textContent = formatCurrency(rowTotal);
                
                cashCountTotal += rowTotal;
            });

            // 2. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ
            document.getElementById('grand_total').textContent = formatCurrency(cashCountTotal);

            // 3. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢
            const salesInput = document.getElementById('sales_input');
            const actualSales = parseFloat(salesInput.value) || 0; // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡πÑ‡∏î‡πâ

            // 4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            const difference = cashCountTotal - actualSales;
            
            // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            const differenceResultElement = document.getElementById('difference_result');
            differenceResultElement.textContent = formatCurrency(difference);

            // 6. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            differenceResultElement.classList.remove('positive-diff', 'negative-diff');
            if (difference > 0) {
                // ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô (Positive)
                differenceResultElement.classList.add('positive-diff');
            } else if (difference < 0) {
                // ‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≤‡∏î (Negative)
                differenceResultElement.classList.add('negative-diff');
            }
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
        document.addEventListener('DOMContentLoaded', calculate);
    </script>
</body>
</html>
