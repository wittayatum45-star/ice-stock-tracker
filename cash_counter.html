<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash Counter (AjarnG Edition)</title>
    <style>
        body { font-family: sans-serif; margin: 0; padding: 15px; background: #f4f4f9; }
        h1 { color: #007bff; text-align: center; margin-bottom: 25px; }
        table { width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        th, td { border: 1px solid #ccc; padding: 10px; text-align: center; }
        th { background: #e9ecef; }
        .denomination { font-weight: bold; }
        .total-row td { background: #d4edda; font-weight: bold; font-size: 1.1em; }

        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏£‡∏∏‡∏õ */
        .summary-container {
            margin-top: 25px;
            padding: 15px;
            background: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px dashed #eee;
        }
        .summary-row:last-child {
            border-bottom: none;
            font-size: 1.2em;
            font-weight: bold;
        }
        .summary-label {
            font-weight: bold;
            color: #333;
        }
        .summary-value {
            text-align: right;
            font-size: 1.1em;
        }
        .positive-diff { color: green; }
        .negative-diff { color: red; }
        .currency { text-align: right; background: #fff3cd; } 
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏° +/- */
        .qty-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px; /* ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏±‡∏ö input */
        }
        .adjust-btn {
            padding: 5px 8px;
            font-size: 1.2em;
            width: 40px; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ñ‡∏á‡∏ó‡∏µ‡πà */
            height: 40px;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            line-height: 1; /* ‡∏à‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
            margin: 0; /* ‡∏•‡∏ö margin ‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏õ‡∏∏‡πà‡∏° */
        }
        .minus-btn {
            background: #f8d7da; /* ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏≠‡πà‡∏≠‡∏ô */
            color: #721c24;
        }
        .plus-btn {
            background: #d4edda; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô */
            color: #155724;
        }
        input[type="number"] { 
            width: 80px; /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î input ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏µ‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤‡∏á */
            padding: 8px; 
            text-align: right;
            box-sizing: border-box;
            border: 1px solid #ccc; 
            font-size: 1em;
            height: 40px;
        }
    </style>
</head>
<body>

    <h1>üíµ ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡∏™‡πà‡∏á‡πÄ‡∏á‡∏¥‡∏ô ‡∏•‡πä‡∏≤‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô‡∏ô ü§´</h1>

    <table>
        <thead>
            <tr>
                <th>‡∏ä‡∏ô‡∏¥‡∏î (‡∏ö‡∏≤‡∏ó)</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)</th>
            </tr>
        </thead>
        <tbody>
            <tr id="row_1000">
                <td class="denomination">1,000</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_1000', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_1000" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_1000', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_1000">0.00</td>
            </tr>
            <tr id="row_500">
                <td class="denomination">500</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_500', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_500" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_500', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_500">0.00</td>
            </tr>
            <tr id="row_100">
                <td class="denomination">100</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_100', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_100" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_100', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_100">0.00</td>
            </tr>
            <tr id="row_50">
                <td class="denomination">50</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_50', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_50" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_50', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_50">0.00</td>
            </tr>
            <tr id="row_20">
                <td class="denomination">20</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_20', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_20" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_20', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_20">0.00</td>
            </tr>
            <tr id="row_10">
                <td class="denomination">10</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_10', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_10" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_10', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_10">0.00</td>
            </tr>
            <tr id="row_5">
                <td class="denomination">5</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_5', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_5" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_5', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_5">0.00</td>
            </tr>
            <tr id="row_2">
                <td class="denomination">2</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_2', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_2" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_2', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_2">0.00</td>
            </tr>
            <tr id="row_1">
                <td class="denomination">1</td>
                <td>
                    <div class="qty-control">
                        <button onclick="adjustQty('qty_1', -1)" class="adjust-btn minus-btn">-</button>
                        <input type="number" min="0" value="0" id="qty_1" oninput="calculate()" onfocus="clearZero(this)" onblur="setZero(this)" inputmode="numeric">
                        <button onclick="adjustQty('qty_1', 1)" class="adjust-btn plus-btn">+</button>
                    </div>
                </td>
                <td class="currency" id="total_1">0.00</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="total-row">
                <td colspan="2">‡∏£‡∏ß‡∏°‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ</td>
                <td id="grand_total">0.00</td>
            </tr>
        </tfoot>
    </table>

    <div class="summary-container">
        <div class="summary-row">
            <label class="summary-label" for="sales_input">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏ï‡∏≤‡∏°‡∏ö‡∏¥‡∏•/‡∏£‡∏∞‡∏ö‡∏ö)</label>
            <input 
                type="number" 
                min="0" 
                value="0" 
                id="sales_input" 
                oninput="calculate()" 
                onfocus="clearZero(this)" 
                onblur="setZero(this)" 
                inputmode="numeric" 
                style="width: 150px; text-align: right; height: 40px;"
            >
        </div>
        <div class="summary-row">
            <span class="summary-label">‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á (‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ - ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢)</span>
            <span class="summary-value" id="difference_result">0.00</span>
        </div>
    </div>

    <script>
        const denominations = [1000, 500, 100, 50, 20, 10, 5, 2, 1];

        /** ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏Å‡∏∏‡∏•‡πÄ‡∏á‡∏¥‡∏ô (‡∏Ñ‡∏≠‡∏°‡∏°‡πà‡∏≤ ‡πÅ‡∏•‡∏∞ ‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏° 2 ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á) */
        function formatCurrency(amount) {
            return amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        /** ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤ '0' ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å (Focus) */
        function clearZero(inputElement) {
            if (inputElement.value === '0') {
                inputElement.value = ''; 
            }
        }

        /** ‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤ '0' ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á (Blur) ‡∏´‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏±‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ */
        function setZero(inputElement) {
            if (inputElement.value === '') {
                inputElement.value = '0';
            }
            calculate(); 
        }

        /** ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà: ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° +/- */
        function adjustQty(id, delta) {
            const inputElement = document.getElementById(id);
            // ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô, ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á (‡∏ï‡∏≠‡∏ô focus) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô 0
            let currentQty = parseInt(inputElement.value) || 0; 
            
            let newQty = currentQty + delta;
            
            // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏•‡∏ö
            if (newQty < 0) {
                newQty = 0;
            }

            inputElement.value = newQty;
            calculate();
        }

        function calculate() {
            let cashCountTotal = 0;

            // 1. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ
            denominations.forEach(value => {
                const qtyInput = document.getElementById(`qty_${value}`);
                let quantity = Math.max(0, parseInt(qtyInput.value) || 0); 

                const rowTotal = quantity * value;
                
                document.getElementById(`total_${value}`).textContent = formatCurrency(rowTotal);
                
                cashCountTotal += rowTotal;
            });

            // 2. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ
            document.getElementById('grand_total').textContent = formatCurrency(cashCountTotal);

            // 3. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢
            const salesInput = document.getElementById('sales_input');
            // ‡πÉ‡∏ä‡πâ parseFloat ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ö‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏Ç‡∏≠‡∏á‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
            const actualSales = parseFloat(salesInput.value) || 0; 

            // 4. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            const difference = cashCountTotal - actualSales;
            
            // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            const differenceResultElement = document.getElementById('difference_result');
            differenceResultElement.textContent = formatCurrency(difference);

            // 6. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á
            differenceResultElement.classList.remove('positive-diff', 'negative-diff');
            if (difference > 0) {
                differenceResultElement.classList.add('positive-diff');
            } else if (difference < 0) {
                differenceResultElement.classList.add('negative-diff');
            }
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
        document.addEventListener('DOMContentLoaded', calculate);
    </script>
</body>
</html>
